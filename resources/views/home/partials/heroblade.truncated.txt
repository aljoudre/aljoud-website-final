
<!-- Hero Section -->
<section id="home" class="relative flex items-center justify-start pt-16 md:pt-24">
    <div class="hero-bg">

        {{--  always there will be Hero record  --}}
        {{-- will check if video or image --}}
        {{-- if video, will show video --}}
        {{-- if image, will show image --}}
        {{-- if no video or image, will show default image via $hero->media_url --}}
        @php
            $heroVideo = null;
            $heroImage = null;
            $isVideo = false;

            // Acceptable is_video values: true, 1, "1", "true"
            $isVideo = $hero->is_video;

            if ($hero) {
                // Always pull the actual media; fallback to media_url if not found
                $heroMediaUrl = $hero->media_url ?? null;

                if ($isVideo) {
                    
                    // Try to get video from 'video' collection; fallback to media_url
                    $videoMedia = null;
                    try {
                        $videoMedia = $hero->getFirstMedia('video');
                    } catch (\Exception $e) {}
                    if ($videoMedia) {
                        $heroVideo = $videoMedia->getUrl();
                    } elseif ($heroMediaUrl) {
                        $heroVideo = $heroMediaUrl;
                    }
                } else {
                    // Try to get image from 'hero_image' collection; fallback to media_url
                    $imageMedia = null;
                    try {
                        $imageMedia = $hero->getFirstMedia('hero_image');
                    } catch (\Exception $e) {}
                    if ($imageMedia) {
                        $heroImage = $imageMedia->getUrl();
                    } elseif ($heroMediaUrl) {
                        $heroImage = $heroMediaUrl;
                    }
                }
            }
        @endphp

        @if($isVideo )
            <video 
                autoplay 
                loop 
                muted 
                playsinline
                controls
                class="active"
                style="width:100vw; height:100vh; max-height:700px; display:block; padding-top:65px;"
            >
                <source src="{{ $heroVideo }}" type="video/mp4">
                Sorry, your browser doesn't support embedded videos.
            </video>
        @elseif(!$isVideo && $heroImage)
            <img src="{{ $heroImage }}" alt="Aljoud Real Estate NO VIDEO" class="active" style="object-fit:cover; width:100vw; height:100vh; max-height:700px; display:block;">
        @else
            <img src="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=1920&q=80" alt="Aljoud Real Estate" class="active" style="object-fit:cover; width:100vw; height:100vh; max-height:700px; display:block;">
        @endif
    </div>
    <div class="relative z-10 max-w-2xl ml-3 md:ml-16 p-4 md:p-8 bg-black/40 backdrop-blur-sm rounded-2xl mx-3 md:mx-0">
        <h1 class="text-2xl md:text-6xl font-bold mb-3 md:mb-4 text-white leading-tight">{{ $hero && isset($hero->title) ? $hero->translate('title') : 'شريككم نحو تحقيق الأحلام العقارية' }}</h1>
        <p class="text-base md:text-xl text-gray-200">{{ $hero && isset($hero->subtitle) ? $hero->translate('subtitle') : 'الجود.. رمز الإبداع العقاري والاستثمار الواعد' }}</p>
    </div>
</section>

